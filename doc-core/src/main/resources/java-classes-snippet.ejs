<%
function shortName(name) {
    var components = name.split('\\.');
    return components[components.length - 1];
}

function makeMethodSignature(method) {
    var signature = '';

    signature += 'public ';

    signature += shortName(method.returnTypeName) + ' ';
    signature += method.name;
    signature += '(';
    for(var parameterIndex = 0; parameterIndex < method.parameters.size(); ++parameterIndex) {
        var parameter = method.parameters.get(parameterIndex);
        signature += '\n  ' + shortName(parameter.typeName) + ' ' + parameter.name;
        if(parameterIndex != method.parameters.size() - 1) {
            signature += ',';
        } else {
            signature += '\n';
        }
    }
    signature += ')';

    return signature;
}
%>

<% for(var classIndex = 0; classIndex < model.size(); ++classIndex) {
    var clazz = model.get(classIndex);
    if(!clazz.isDocumented) continue; %>

#### <%= clazz.name %>

[.lead]
<%= clazz.description %>

##### Fields

    <% if(clazz.fields.size() === 0) { %>
_<%= clazz.name %> does not have any fields._
    <% } else { %>
[options="header"]
|===
| Name | Type | Description

        <% for(var fieldIndex = 0; fieldIndex < clazz.fields.size(); ++fieldIndex) {
            var field = clazz.fields.get(fieldIndex);
            if(!field.isDocumented) continue; %>

| `<%= field.name %>` | `<%= shortName(field.typeName) %>` | <%= field.description %>
        <% } %>
|===
    <% } %>

##### Methods

    <% if(clazz.methods.size() === 0) { %>
_<%= clazz.name %> does not have any methods._
    <% } else { %>
        <% for(var methodIndex = 0; methodIndex < clazz.methods.size(); ++methodIndex) {
            var method = clazz.methods.get(methodIndex);
            if(!method.isDocumented) continue; %>

* Method `<%= method.name %>` - <%= method.description %>. Returns: <%= method.returnDescription %>

[source,java]
----
<%= makeMethodSignature(method) %>
----

            <% if(method.parameters.size() === 0) { %>
_<%= clazz.name %>::<%= method.name %> does not have any parameters._
            <% } else { %>
[options="header"]
|===
| Name | Type | Description
                <% for(var parameterIndex = 0; parameterIndex < method.parameters.size(); ++parameterIndex) {
                    var parameter = method.parameters.get(parameterIndex); %>
| `<%= parameter.name %>` | <%= shortName(parameter.typeName) %> | <%= parameter.description %>
                <% } %>
|===
            <% } %>
        <% } %>
    <% } %>
<% } %>
